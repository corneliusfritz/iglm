<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Construct a iglm Model Specification Object — iglm • iglm</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Construct a iglm Model Specification Object — iglm"><meta name="description" content="The iglm package implements a comprehensive regression framework  introduced in Fritz et al. (2025) for
studying relationships among attributes \((X, Y)\) under network interference \((Z)\).
It is based on a joint probability model for dependent
outcomes (\(Y\)) and network connections \((Z)\), conditional on a fixed set of
predictors (X). This approach generalizes standard
Generalized Linear Models (GLMs) to settings where the responses and
connections of units are interdependent. The framework is
designed to be interpretable by representing conditional distributions
as GLMs, scalable to large networks via pseudo-likelihood
and convex optimization, and provides insight into
outcome-connection dependencies (i.e., spillover effects) that are
missed by conditional models.
The joint probability density is specified as an exponential-family model
of the form:
$$f_{\theta}(y,z,x) \propto \Big[\prod_{i=1}^{N} a_y(y_i) \exp(\theta_g^T g_i(x_i, y_i^*)) \Big] \times
\Big[\prod_{i \ne j} a_z(z_{i,j}) \exp(\theta_h^T h_{i,j}(x, y_i^*, y_j^*, z)) \Big],$$
which is defined by two distinct sets of user-specified features:
\(g_i(x,y,z)\): A vector of actor-level functions (or &quot;g-terms&quot;)
    that describe the relationship between an individual actor \(i\)'s
    predictors (\(x_i\)) and their own response (\(y_i\)).
\(h_{i,j}(x,y,z)\): A vector of pair-level functions (or &quot;h-terms&quot;)
    that specify how the connections (\(z\)) and responses (\(y_i, y_j\))
    of a pair of units \(\{i,j\}\) depend on each other and the wider
    network structure.
This separation allows the model to simultaneously capture individual-level
behavior (via \(g_i\)) and dyadic, network-based dependencies (via \(h_{i,j}\)),
including lo cal dependence limited to overlapping neighborhoods (see, Fritz et al., 2025).
This help page documents the various statistics available in 'iglm',
corresponding to the \(g_i\) (attribute-level) and \(h_{i,j}\) (pair-level)
components of the joint model.
This is a user-facing constructor for creating a iglm.object. This R6 object
encompasses the complete model specification, linking the formula, data (iglm.data object),
initial coefficients, MCMC sampler settings, and estimation controls.
It serves as the primary input for subsequent methods like $estimate() and $simulate()."><meta property="og:description" content="The iglm package implements a comprehensive regression framework  introduced in Fritz et al. (2025) for
studying relationships among attributes \((X, Y)\) under network interference \((Z)\).
It is based on a joint probability model for dependent
outcomes (\(Y\)) and network connections \((Z)\), conditional on a fixed set of
predictors (X). This approach generalizes standard
Generalized Linear Models (GLMs) to settings where the responses and
connections of units are interdependent. The framework is
designed to be interpretable by representing conditional distributions
as GLMs, scalable to large networks via pseudo-likelihood
and convex optimization, and provides insight into
outcome-connection dependencies (i.e., spillover effects) that are
missed by conditional models.
The joint probability density is specified as an exponential-family model
of the form:
$$f_{\theta}(y,z,x) \propto \Big[\prod_{i=1}^{N} a_y(y_i) \exp(\theta_g^T g_i(x_i, y_i^*)) \Big] \times
\Big[\prod_{i \ne j} a_z(z_{i,j}) \exp(\theta_h^T h_{i,j}(x, y_i^*, y_j^*, z)) \Big],$$
which is defined by two distinct sets of user-specified features:
\(g_i(x,y,z)\): A vector of actor-level functions (or &quot;g-terms&quot;)
    that describe the relationship between an individual actor \(i\)'s
    predictors (\(x_i\)) and their own response (\(y_i\)).
\(h_{i,j}(x,y,z)\): A vector of pair-level functions (or &quot;h-terms&quot;)
    that specify how the connections (\(z\)) and responses (\(y_i, y_j\))
    of a pair of units \(\{i,j\}\) depend on each other and the wider
    network structure.
This separation allows the model to simultaneously capture individual-level
behavior (via \(g_i\)) and dyadic, network-based dependencies (via \(h_{i,j}\)),
including lo cal dependence limited to overlapping neighborhoods (see, Fritz et al., 2025).
This help page documents the various statistics available in 'iglm',
corresponding to the \(g_i\) (attribute-level) and \(h_{i,j}\) (pair-level)
components of the joint model.
This is a user-facing constructor for creating a iglm.object. This R6 object
encompasses the complete model specification, linking the formula, data (iglm.data object),
initial coefficients, MCMC sampler settings, and estimation controls.
It serves as the primary input for subsequent methods like $estimate() and $simulate()."><meta property="og:image" content="/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">iglm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/iglm.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Construct a iglm Model Specification Object</h1>

      <div class="d-none name"><code>iglm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>iglm</code> package implements a comprehensive regression framework  introduced in Fritz et al. (2025) for
studying relationships among attributes \((X, Y)\) under network interference \((Z)\).
It is based on a joint probability model for dependent
outcomes (\(Y\)) and network connections \((Z)\), conditional on a fixed set of
predictors (X). This approach generalizes standard
Generalized Linear Models (GLMs) to settings where the responses and
connections of units are interdependent. The framework is
designed to be interpretable by representing conditional distributions
as GLMs, scalable to large networks via pseudo-likelihood
and convex optimization, and provides insight into
outcome-connection dependencies (i.e., spillover effects) that are
missed by conditional models.</p>
<p>The joint probability density is specified as an exponential-family model
of the form:
$$f_{\theta}(y,z,x) \propto \Big[\prod_{i=1}^{N} a_y(y_i) \exp(\theta_g^T g_i(x_i, y_i^*)) \Big] \times
\Big[\prod_{i \ne j} a_z(z_{i,j}) \exp(\theta_h^T h_{i,j}(x, y_i^*, y_j^*, z)) \Big],$$
which is defined by two distinct sets of user-specified features:</p><ul><li><p><strong>\(g_i(x,y,z)\)</strong>: A vector of actor-level functions (or "g-terms")
    that describe the relationship between an individual actor \(i\)'s
    predictors (\(x_i\)) and their own response (\(y_i\)).</p></li>
<li><p><strong>\(h_{i,j}(x,y,z)\)</strong>: A vector of pair-level functions (or "h-terms")
    that specify how the connections (\(z\)) and responses (\(y_i, y_j\))
    of a pair of units \(\{i,j\}\) depend on each other and the wider
    network structure.</p></li>
</ul><p>This separation allows the model to simultaneously capture individual-level
behavior (via \(g_i\)) and dyadic, network-based dependencies (via \(h_{i,j}\)),
including lo cal dependence limited to overlapping neighborhoods (see, Fritz et al., 2025).
This help page documents the various statistics available in 'iglm',
corresponding to the \(g_i\) (attribute-level) and \(h_{i,j}\) (pair-level)
components of the joint model.
This is a user-facing constructor for creating a <code>iglm.object</code>. This <code>R6</code> object
encompasses the complete model specification, linking the formula, data (<code><a href="iglm.data.html">iglm.data</a></code> object),
initial coefficients, MCMC sampler settings, and estimation controls.
It serves as the primary input for subsequent methods like <code>$estimate()</code> and <code>$simulate()</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">iglm</span><span class="op">(</span></span>
<span>  formula <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  coef <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  coef_popularity <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sampler <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  control <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  file <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>A model `formula` object. The left-hand side should be the
name of a `iglm.data` object available in the calling environment.
See <code><a href="model.terms.html">model.terms</a></code> for details on specifying the right-hand side terms.</p></dd>


<dt id="arg-coef">coef<a class="anchor" aria-label="anchor" href="#arg-coef"></a></dt>
<dd><p>Optional numeric vector of initial coefficients for the structural
(non-popularity) terms in `formula`. If `NULL`, coefficients are
initialized to zero. Length must match the number of terms.</p></dd>


<dt id="arg-coef-popularity">coef_popularity<a class="anchor" aria-label="anchor" href="#arg-coef-popularity"></a></dt>
<dd><p>Optional numeric vector specifying the initial popularity
coefficients. Required if `formula` includes popularity terms, otherwise
should be `NULL`. Length must match `n_actor` (for undirected) or
`2 * n_actor` (for directed).</p></dd>


<dt id="arg-sampler">sampler<a class="anchor" aria-label="anchor" href="#arg-sampler"></a></dt>
<dd><p>An object of class <code><a href="sampler.iglm.html">sampler.iglm</a></code>, controlling the MCMC sampling scheme. If `NULL`,
default sampler settings will be used.</p></dd>


<dt id="arg-control">control<a class="anchor" aria-label="anchor" href="#arg-control"></a></dt>
<dd><p>An object of class <code><a href="control.iglm.html">control.iglm</a></code>, specifying parameters for the estimation algorithm.
If `NULL`, default control settings will be used.</p></dd>


<dt id="arg-file">file<a class="anchor" aria-label="anchor" href="#arg-file"></a></dt>
<dd><p>Optional character string specifying a file path to load a
previously saved  <code>iglm.object</code> from disk (in RDS format). If provided,
other arguments are ignored and the object is loaded from the file.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>iglm.object</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Fritz, C., Schweinberger, M., Bhadra, S., and D.R. Hunter (2025). A Regression Framework for Studying Relationships among Attributes under Network Interference. Journal of the American Statistical Association, to appear.</p>
<p>Schweinberger, M. and M.S. Handcock (2015). Local Dependence in Random Graph Models: Characterization, Properties, and Statistical Inference. Journal of the Royal Statistical Society, Series B (Statistical Methodology), 7, 647-676.</p>
<p>Schweinberger, M. and J.R. Stewart (2020). Concentration and Consistency Results for Canonical and Curved Exponential-Family Models of Random Graphs. The Annals of Statistics, 48, 374-396.</p>
<p>Stewart, J.R. and M. Schweinberger (2025). Pseudo-Likelihood-Based M-Estimation of Random Graphs with Dependent Edges and Parameter Vectors of Increasing Dimension. The Annals of Statistics, to appear.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example usage:</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">iglm</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Create a iglm.data data object (example)</span></span></span>
<span class="r-in"><span><span class="va">n_actors</span> <span class="op">&lt;-</span> <span class="fl">50</span></span></span>
<span class="r-in"><span><span class="va">neighborhood</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">1</span>, nrow <span class="op">=</span> <span class="va">n_actors</span>, ncol <span class="op">=</span> <span class="va">n_actors</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">xyz_obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="iglm.data.html">iglm.data</a></span><span class="op">(</span>neighborhood <span class="op">=</span> <span class="va">neighborhood</span>, directed <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                   type_x <span class="op">=</span> <span class="st">"binomial"</span>, type_y <span class="op">=</span> <span class="st">"binomial"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Define ground truth coefficients</span></span></span>
<span class="r-in"><span><span class="va">gt_coef</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"edges_local"</span> <span class="op">=</span> <span class="fl">3</span>, <span class="st">"attribute_y"</span> <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, <span class="st">"attribute_x"</span> <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gt_coef_pop</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n_actors</span>, <span class="op">-</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Define MCMC sampler</span></span></span>
<span class="r-in"><span><span class="va">sampler_new</span> <span class="op">&lt;-</span> <span class="fu"><a href="sampler.iglm.html">sampler.iglm</a></span><span class="op">(</span>n_burn_in <span class="op">=</span> <span class="fl">100</span>, n_simulation <span class="op">=</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>                               sampler_x <span class="op">=</span> <span class="fu"><a href="sampler.net.attr.html">sampler.net.attr</a></span><span class="op">(</span>n_proposals <span class="op">=</span> <span class="va">n_actors</span> <span class="op">*</span> <span class="fl">10</span>, seed <span class="op">=</span> <span class="fl">13</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                               sampler_y <span class="op">=</span> <span class="fu"><a href="sampler.net.attr.html">sampler.net.attr</a></span><span class="op">(</span>n_proposals <span class="op">=</span> <span class="va">n_actors</span> <span class="op">*</span> <span class="fl">10</span>, seed <span class="op">=</span> <span class="fl">32</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                               sampler_z <span class="op">=</span> <span class="fu"><a href="sampler.net.attr.html">sampler.net.attr</a></span><span class="op">(</span>n_proposals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">neighborhood</span> <span class="op">&gt;</span> <span class="fl">0</span></span></span>
<span class="r-in"><span>                               <span class="op">)</span> <span class="op">*</span> <span class="fl">10</span>, seed <span class="op">=</span> <span class="fl">134</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                               init_empty <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Create iglm model specification</span></span></span>
<span class="r-in"><span><span class="va">model_tmp_new</span> <span class="op">&lt;-</span> <span class="fu">iglm</span><span class="op">(</span>formula <span class="op">=</span> <span class="va">xyz_obj</span> <span class="op">~</span> <span class="fu">edges</span><span class="op">(</span>mode <span class="op">=</span> <span class="st">"local"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>                          <span class="va">attribute_y</span> <span class="op">+</span> <span class="va">attribute_x</span> <span class="op">+</span> <span class="va">popularity</span>,</span></span>
<span class="r-in"><span>                          coef <span class="op">=</span> <span class="va">gt_coef</span>,</span></span>
<span class="r-in"><span>                          coef_popularity <span class="op">=</span> <span class="va">gt_coef_pop</span>,</span></span>
<span class="r-in"><span>                          sampler <span class="op">=</span> <span class="va">sampler_new</span>,</span></span>
<span class="r-in"><span>                          control <span class="op">=</span> <span class="fu"><a href="control.iglm.html">control.iglm</a></span><span class="op">(</span>accelerated <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                          max_it <span class="op">=</span> <span class="fl">200</span>, display_progress <span class="op">=</span> <span class="cn">FALSE</span>, var <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Simulate from the model</span></span></span>
<span class="r-in"><span><span class="va">model_tmp_new</span><span class="op">$</span><span class="fu">simulate</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">model_tmp_new</span><span class="op">$</span><span class="fu">set_target</span><span class="op">(</span><span class="va">model_tmp_new</span><span class="op">$</span><span class="fu">get_samples</span><span class="op">(</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Estimate model parameters</span></span></span>
<span class="r-in"><span><span class="va">model_tmp_new</span><span class="op">$</span><span class="fu">estimate</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Model Assessment</span></span></span>
<span class="r-in"><span><span class="va">model_tmp_new</span><span class="op">$</span><span class="fu">model_assessment</span><span class="op">(</span>formula <span class="op">=</span> <span class="op">~</span>  <span class="va">degree_distribution</span> <span class="op">)</span></span></span>
<span class="r-plt img"><img src="iglm-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># model_tmp_new$results$plot(model_assessment = TRUE)</span></span></span>
<span class="r-in"><span>                                                   </span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cornelius Fritz, Michael Schweinberger.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

